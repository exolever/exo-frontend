<ng-container *ngIf="!loading && selectedStep; else loadingTpl">
  <header
    *ngIf="showHeader$ | async"
    class="assignment-header"
    fxLayout="column"
    fxLayoutAlign="end center"
  >
    <div class="assignment-header__container" fxLayout="column" fxLayoutAlign="center center">
      <h1>
        {{ selectedStep?.name }}
      </h1>

      <div class="push-top-xxs" fxLayout="row" fxLayoutAlign="center center">
        <nav mat-tab-nav-bar color="primary">
          <a mat-tab-link routerLink="learn" *ngIf="selectedStep?.enabledLearn" routerLinkActive #rla1="routerLinkActive" [active]="rla1.isActive">
            {{ 'SERVICE.ASSIGNMENTS.LEARN.' + project.getTypeProject() | uppercase | translate | uppercase }}
          </a>
          <a mat-tab-link routerLink="deliver" *ngIf="selectedStep?.enabledDeliver" routerLinkActive #rla2="routerLinkActive" [active]="rla2.isActive">
            {{ 'SERVICE.ASSIGNMENTS.DELIVER' | translate | uppercase }}
          </a>
          <a mat-tab-link routerLink="reflect" *ngIf="showReflectTab()" routerLinkActive #rla3="routerLinkActive" [active]="rla3.isActive">
            {{ 'SERVICE.ASSIGNMENTS.REFLECT' | translate | uppercase }}
          </a>
        </nav>
      </div>
    </div>
  </header>

  <div class="exo-platform-light-theme assignment-body pad-right pad-left pad-top pad-bottom-lg"
        fxLayout="column">
    <router-outlet></router-outlet>
  </div>
</ng-container>

<ng-template #loadingTpl>
  <div layout="row" fxLayoutAlign="center" class="push-top-sm">
    <app-component-spinner-loader></app-component-spinner-loader>
  </div>
</ng-template>
