<section fxLayout="column" class="push-bottom-lg">
  <header class="push-top-lg pad-left pad-right text-align-center">
    <h1 class="w-100">{{ 'ECOSYSTEM.CAMPAIGNS.TITLE' | translate }}</h1>
    <h3 class="w-100 foreground-secondary-text">{{ 'ECOSYSTEM.CAMPAIGNS.SUBTITLE' | translate }}</h3>
  </header>
  <section class="push-top pad-left pad-right pad-bottom">
    <ng-container *ngIf="campaigns; else loading">
      <div *ngIf="campaigns.length > 0; else emptyMoment"
           fxLayout="row wrap"
           fxLayoutGap="24px"
           fxLayout.lt-md="column"
           fxLayoutAlign.gt-sm="start start"
      >
        <mat-card fxFlex="296px" class="pad-top pad-bottom">
          <p class="nav-title section pad-top pad-right pad-left">
            {{ 'ECOSYSTEM.CAMPAIGNS.NAV' | translate }}
          </p>
          <mat-list role="list">
            <div class="campaign-item" [ngClass]="{ 'selected' : campaignIsSelected(campaign) }" fxLayout="row" fxLayoutAlign="space-between center" *ngFor="let campaign of campaigns">
              <mat-list-item
                  role="listitem"
                  class="pointer mat-list-item"
                  (click)="iframeEarlyParrot(campaign)"
              >
                {{ campaign.name }}
              </mat-list-item>
              <mat-icon class="icon-item">chevron_right</mat-icon>
            </div>
          </mat-list>
        </mat-card>
        <mat-card fxFlex.gt-sm>
          <mat-card-content>
            <div class="epWrapper" *ngIf="selectedCampaign">
              <iframe id="epShare" allowfullscreen frameborder="0" width="100" height="100"></iframe>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container>
  </section>
</section>

<ng-template #loading>
  <div fxLayoutAlign="center center">
    <app-component-spinner-loader></app-component-spinner-loader>
  </div>
</ng-template>

<ng-template #emptyMoment>
  <exo-empty-moment>
    <p class="empty-message subheading-2 text-align-center">
      {{ 'ECOSYSTEM.CAMPAIGNS.EMPTY_MOMENT' | translate }}
    </p>
  </exo-empty-moment>
</ng-template>
